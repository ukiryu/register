# yaml-language-server: $schema=https://raw.githubusercontent.com/ukiryu/schema/refs/heads/main/v1/interface.schema.yaml
---
ukiryu_schema: '1.0'
name: find
version: '1.0'
display_name: find file search interface
description: |
  Interface for file search tools that locate files in directory hierarchies.
  Defines the contract for find-compatible implementations.
commands:
  - name: find
    display_name: Find files
    description: Search for files in directory hierarchy
    required: true
    arguments:
    - name: path
      type: file
      required: false
      description: Starting directory (defaults to current directory)
    options:
    - name: name
      type: string
      description: Base of file name (with shell patterns)
    - name: type
      type: symbol
      values: [f, d, l]
      description: File type (f=file, d=directory, l=symlink)
    - name: size
      type: string
      description: File size
    - name: mtime
      type: string
      description: Modification time (n days ago)
    - name: perm
      type: string
      description: File permissions
    - name: user
      type: string
      description: File owner
    flags:
    - name: print
      description: Print file name (default action)
    - name: print0
      description: Print file name null-terminated
    - name: ls
      description: List file in ls -dils format
    - name: depth
      description: Process directory contents before directory itself
    - name: prune
      description: Don't descend into directory
    - name: quiet
      description: Suppress error messages
    - name: and
      description: Logical AND between expressions (default)
    - name: or
      description: Logical OR between expressions
    - name: not
      description: Logical NOT
    - name: not_exclamation
      description: Logical NOT (alternative syntax)
    - name: comma
      description: Actions separated by commas (evaluated left-to-right)
    - name: exec
      description: Execute command on found files (terminated with \\;)
    - name: exec_plus
      description: Execute command on found files (terminated with +, batches files)
    - name: ok
      description: Execute command with confirmation
