# yaml-language-server: $schema=https://raw.githubusercontent.com/ukiryu/schemas/refs/heads/main/v1/tool.schema.yaml
---
ukiryu_schema: '1.0'
name: ping_gnu
display_name: GNU iputils ping (Linux)
homepage: https://github.com/iputils/iputils
version: 2024.01.17
implements: ping
aliases:
- ping
version_detection:
  command:
  - "-V"
  pattern: ping from iputils ([\d]+)
  modern_threshold: '20190609'
search_paths:
  linux:
  - "/bin/ping"
  - "/usr/bin/ping"
  - "/usr/local/bin/ping"
timeout: 30
profiles:
- name: gnu
  display_name: GNU iputils ping
  platforms:
  - linux
  shells:
  - bash
  - zsh
  - fish
  - sh
  option_style: single_dash_space
  commands:
  - description: Send ICMP echo requests to host
    usage: ping [options] host
    arguments:
    - name: host
      type: string
      required: true
      position: last
      description: Host to ping
    options:
    - name: count
      type: integer
      cli: "-c"
      description: Stop after count packets
      assignment_delimiter: auto
    - name: interval
      type: float
      cli: "-i"
      description: Wait interval seconds between packets
      assignment_delimiter: auto
    - name: packet_size
      type: integer
      cli: "-s"
      description: Packet data size (bytes)
      assignment_delimiter: auto
    - name: timeout
      type: integer
      cli: "-W"
      description: Time to wait for response (seconds)
      assignment_delimiter: auto
    - name: ttl
      type: integer
      cli: "-t"
      description: Set Time To Live (IP hops)
      assignment_delimiter: auto
    - name: pattern
      type: string
      cli: "-p"
      description: Fill pattern
      assignment_delimiter: auto
    - name: source
      type: string
      cli: "-I"
      description: Source device or address
      assignment_delimiter: auto
    - name: preload
      type: integer
      cli: "-l"
      description: Send preload packets
      assignment_delimiter: auto
    - name: mark
      type: integer
      cli: "-m"
      description: Set mark
      assignment_delimiter: auto
    - name: mtu
      type: string
      cli: "-M"
      description: Use MTU discovery strategy
      assignment_delimiter: auto
    - name: deadline
      type: integer
      cli: "-w"
      description: Deadline (seconds) before exit
      assignment_delimiter: auto
    flags:
    - name: numeric
      cli: "-n"
      description: No DNS lookup
      default: false
      assignment_delimiter: none
    - name: quiet
      cli: "-q"
      description: Quiet output
      default: false
      assignment_delimiter: none
    - name: verbose
      cli: "-v"
      description: Verbose output
      default: false
      assignment_delimiter: none
    - name: flood
      cli: "-f"
      description: Flood ping (superuser only)
      default: false
      assignment_delimiter: none
    - name: adaptive
      cli: "-A"
      description: Adaptive ping
      default: false
      assignment_delimiter: none
    - name: timestamp
      cli: "-D"
      description: Print timestamp
      default: false
      assignment_delimiter: none
    - name: router_alert
      cli: "-R"
      description: Router alert
      default: false
      assignment_delimiter: none
    - name: bind_device
      cli: "-B"
      description: Bind to device
      default: false
      assignment_delimiter: none
    - name: no_route
      cli: "-r"
      description: Bypass normal routing tables
      default: false
      assignment_delimiter: none
    - name: suppress_duplicates
      cli: "-O"
      description: Suppress duplicate packets
      default: false
      assignment_delimiter: none
    - name: header_included
      cli: "-P"
      description: Header is included in payload size
      default: false
      assignment_delimiter: none
    - name: tclass
      cli: "-T"
      description: Set traffic class
      default: false
      assignment_delimiter: none
    - name: tos
      cli: "-z"
      description: Set Type of Service
      default: false
      assignment_delimiter: none
    name: ping
smoke_tests:
- name: version
  description: Verify ping_gnu version
  command:
  - "-V"
  expect:
    exit_code: 0
- name: help
  description: Verify help output
  command:
  - "--help"
  expect:
    exit_code: 0
