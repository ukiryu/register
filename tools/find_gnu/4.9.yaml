# yaml-language-server: $schema=https://raw.githubusercontent.com/ukiryu/schema/refs/heads/main/v1/tool.schema.yaml
---
ukiryu_schema: '1.0'
name: find_gnu
display_name: GNU Find (File Search)
homepage: https://www.gnu.org/software/findutils/
version: '4.9'
implements: find
version_detection:
  command: "--version"
  pattern: 'find \(GNU findutils\) ([\d.]+)|find version ([\d.]+)'
  modern_threshold: '4.0'
search_paths:
  macos:
  - "/opt/homebrew/bin/gfind"
  - "/usr/local/bin/gfind"
  - "/opt/homebrew/bin/find"
  - "/usr/local/bin/find"
  - "/usr/bin/find"
  linux:
  - "/bin/find"
  - "/usr/bin/find"
  - "/usr/local/bin/find"
  windows:
  - "C:/Program Files/Git/usr/bin/find.exe"
  - "C:/msys64/usr/bin/find.exe"
timeout: 60
profiles:
- name: gnu
  display_name: GNU find on Unix
  platforms:
  - linux
  - macos
  - windows
  shells:
  - bash
  - zsh
  - fish
  - sh
  - powershell
  - cmd
  option_style: single_dash_space
  commands:
  - description: Search for files in directory hierarchy
    usage: find [path] [expression]
    arguments:
    - name: path
      type: file
      required: false
      position: 1
      default: "."
      description: Starting directory (defaults to current directory)
    options:
    - name: name
      type: string
      cli: "-name"
      description: Base of file name (with shell patterns)
      assignment_delimiter: auto
    - name: type
      type: symbol
      cli: "-type"
      values:
      - f
      - d
      - l
      description: File type (f=file, d=directory, l=symlink)
      assignment_delimiter: auto
    - name: size
      type: string
      cli: "-size"
      description: File size
      assignment_delimiter: auto
    - name: mtime
      type: string
      cli: "-mtime"
      description: Modification time (n days ago)
      assignment_delimiter: auto
    - name: perm
      type: string
      cli: "-perm"
      description: File permissions
      assignment_delimiter: auto
    - name: user
      type: string
      cli: "-user"
      description: File owner
      assignment_delimiter: auto
    flags:
    - name: print
      cli: "-print"
      description: Print file name (default action)
      default: false
      assignment_delimiter: none
    - name: print0
      cli: "-print0"
      description: Print file name null-terminated
      default: false
      assignment_delimiter: none
    - name: ls
      cli: "-ls"
      description: List file in ls -dils format
      default: false
      assignment_delimiter: none
    - name: depth
      cli: "-depth"
      description: Process directory contents before directory itself
      default: false
      assignment_delimiter: none
    - name: prune
      cli: "-prune"
      description: Don't descend into directory
      default: false
      assignment_delimiter: none
    - name: quiet
      cli: "-quiet"
      description: Suppress error messages
      default: false
      assignment_delimiter: none
    - name: and
      cli: "-and"
      position_constraint: between_expressions
      description: Logical AND between expressions (default)
      default: false
      assignment_delimiter: none
    - name: or
      cli: "-or"
      position_constraint: between_expressions
      description: Logical OR between expressions
      default: false
      assignment_delimiter: none
    - name: not
      cli: "-not"
      position_constraint: between_expressions
      description: Logical NOT
      default: false
      assignment_delimiter: none
    - name: not_exclamation
      cli: "!"
      position_constraint: between_expressions
      description: Logical NOT (alternative syntax)
      default: false
      assignment_delimiter: none
    - name: comma
      cli: ","
      position_constraint: between_expressions
      description: Actions separated by commas (evaluated left-to-right)
      default: false
      assignment_delimiter: none
    - name: exec
      cli: "-exec"
      cli_short: "-exec"
      position_constraint: after_argument
      position_after: expression
      description: Execute command on found files (terminated with \;)
      default: false
      assignment_delimiter: none
    - name: exec_plus
      cli: "-exec"
      cli_short: "-exec"
      position_constraint: after_argument
      position_after: expression
      description: Execute command on found files (terminated with +, batches files)
      default: false
      assignment_delimiter: none
    - name: ok
      cli: "-ok"
      position_constraint: after_argument
      position_after: expression
      description: Execute command with confirmation
      default: false
      assignment_delimiter: none
    name: find
