# yaml-language-server: $schema=https://raw.githubusercontent.com/ukiryu/schemas/refs/heads/main/v1/tool.schema.yaml
---
ukiryu_schema: '1.0'
name: ghostscript
display_name: Ghostscript Interpreter
homepage: https://www.ghostscript.com/
version: '9.5'
aliases:
- gs
- gswin64c
- gswin32c
version_detection:
  command: "--version"
  pattern: "(\\d+\\.\\d+)"
search_paths:
  macos:
  - "/opt/homebrew/bin/gs"
  - "/opt/homebrew/bin/gsc"
  - "/usr/local/bin/gs"
  - "/usr/local/bin/gsc"
  - "/opt/local/bin/gs"
  - "/opt/local/bin/gsc"
  - "/usr/local/opt/ghostscript/bin/gs"
  - "/opt/bin/gs"
  linux:
  - "/usr/bin/gs"
  - "/usr/bin/gsc"
  - "/usr/local/bin/gs"
  - "/usr/local/bin/gsc"
  - "/snap/bin/ghostscript"
  - "/snap/bin/gs"
  - "/var/lib/flatpak/exports/bin/org.gnu.ghostscript"
  - "/opt/bin/gs"
  - "/opt/ghostscript/bin/gs"
  - "/usr/bin/gs-*"
  windows:
  - C:/Program Files/gs/gs*/bin/gswin64c.exe
  - C:/Program Files/gs/gs*/bin/gswin32c.exe
  - C:/Program Files (x86)/gs/gs*/bin/gswin64c.exe
  - C:/Program Files (x86)/gs/gs*/bin/gswin32c.exe
  - C:/gs/gs*/bin/gswin64c.exe
  - C:/gs/gs*/bin/gswin32c.exe
  - "%USERPROFILE%/scoop/apps/ghostscript/current/gs*/bin/gswin64c.exe"
  - "~/scoop/apps/ghostscript/current/gs*/bin/gswin64c.exe"
  - "%LOCALAPPDATA%/Programs/Ghostscript/gs*/bin/gswin64c.exe"
  - "~/AppData/Local/Programs/Ghostscript/gs*/bin/gswin64c.exe"
timeout: 120
profiles:
- name: unix
  display_name: Ghostscript on Unix
  platforms:
  - macos
  - linux
  shells:
  - bash
  - zsh
  - fish
  - sh
  version: ">= 9.0, < 10.0"
  commands:
  - description: Convert PostScript to PDF or other formats
    usage: gs [OPTIONS] input.ps
    arguments:
    - name: inputs
      type: file
      variadic: true
      position: last
      min: 1
      description: Input file(s)
    options:
    - name: device
      type: symbol
      cli: "-sDEVICE"
      values:
      - pdfwrite
      - eps2write
      - png16m
      - png256
      - pnggray
      - jpeg
      description: Output device
      assignment_delimiter: equals
    - name: output
      type: file
      cli: "-sOutputFile"
      description: Output file
      assignment_delimiter: equals
    - name: resolution
      type: array
      of: integer
      size:
      - 1
      - 2
      cli: "-r"
      separator: x
      description: Resolution (e.g., 300 or 300x600)
      assignment_delimiter: space
    - name: lib_paths
      type: array
      of: file
      cli: "-I"
      separator: " "
      description: Library search paths
      assignment_delimiter: space
    flags:
    - name: safer
      cli: "-dSAFER"
      description: Run in safer mode
      default: true
      assignment_delimiter: none
    - name: quiet
      cli: "-q"
      description: Suppress informational messages
      default: false
      assignment_delimiter: none
    - name: batch
      cli: "-dBATCH"
      description: Run in batch mode
      default: true
      assignment_delimiter: none
    - name: nopause
      cli: "-dNOPAUSE"
      description: Don't pause per page
      default: true
      assignment_delimiter: none
    - name: eps_crop
      cli: "-dEPSCrop"
      description: Automatically crop EPS bounding box
      default: false
      assignment_delimiter: none
    name: convert
- name: windows
  display_name: Ghostscript on Windows
  platforms:
  - windows
  shells:
  - bash
  - powershell
  - cmd
  version: ">= 9.0, < 10.0"
  inherits: unix
smoke_tests:
- name: version
  description: Verify ghostscript version
  command:
  - "--version"
  expect:
    exit_code: 0
- name: help
  description: Verify help output
  command:
  - "--help"
  expect:
    exit_code: 0
